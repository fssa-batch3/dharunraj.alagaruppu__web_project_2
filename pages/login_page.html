<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In page</title>
    <link rel="stylesheet" href="../assets/css/log_in.css">


</head>

<body>

    <div class="main">
        <a href=></a>
    </div>
    <script>

        // right main divider

        let content_of_log_in = document.createElement("div");
        content_of_log_in.setAttribute("class", "sign_in");
        document.querySelector(".main").append(content_of_log_in);

        //left side start...

        let welcome = document.createElement("div");
        welcome.setAttribute("class", "welcome");
        document.querySelector(".main").append(welcome);

        let image = document.createElement("img");
        image.setAttribute("src", "../assets/img/log_in.gif");
        image.setAttribute("alt", "Net Bliz");
        document.querySelector(".welcome").append(image);

        let heading = document.createElement("h1");
        heading.innerText = "Let us help you to run your bank account on Net Bliz";
        welcome.append(heading);

        let pickup = document.createElement("h3");
        pickup.innerText = "You are 30 seconds away to experiencing your new Banking World ";
        welcome.append(pickup);

        // let account= document.createElement("div");
        // account.setAttribute("class","full_account");
        // welcome.append(account);

        let a = document.createElement("a");
        a.setAttribute("href", "./signup_page.html");
        welcome.append(a)


        let button = document.createElement("button");
        button.setAttribute("class", "welcome_button");
        // button.setAttribute("")
        button.innerText = ("Have an account ?");
        a.append(button);



        // left side was end.....


        //Right side main divider


        let start = document.createElement("div");
        start.setAttribute("class", "start");
        content_of_log_in.append(start);


        let heading1 = document.createElement("h1");
        heading1.setAttribute("class", "tag_h1");
        heading1.innerText = ("Get Statred");
        start.append(heading1);

        let heading2 = document.createElement("h2");
        heading2.setAttribute("class", "tag_h3");
        heading2.innerText = ("Login your account now");
        start.append(heading2);



        let right_container = document.createElement("div");
        right_container.setAttribute("class", "right_container");
        content_of_log_in.append(right_container);



        let form = document.createElement("form");
        // form.setAttribute("method", "post");
        // form.setAttribute("id", "singupform")

        right_container.append(form);

        const obj = [

            {

                "for": "fullname",
                "text": "First name",

                "type": "text",
                "name": "fullname",
                "id": "fullname",
                "placeholder": "",
                "required": "required",
                "tittle": "You must put the name what you signup in this website",
                "aria": "First name"

            },


            {

                "for": "email",
                "text": "Email id",

                "type": "email",
                "name": "email",
                "id": "email",
                "placeholder": "",
                "required": "required",
                "tittle": "You must put the email what you signup in this website",
                "aria": "Email id"

            },


            {

                "for": "password",
                "text": "Password",

                "type": "password",
                "name": "password",
                "id": "password",
                "placeholder": "",
                "required": "required",
                "tittle": "You must put the password what you signup in this website",
                "aria": "Password"

            },
        ]

        for (let i = 0; i < 3; i++) {


            let label_text = document.createElement("label");
            label_text.setAttribute("for", obj[i]["for"]);
            label_text.innerText = obj[i]["text"] + ":";
            form.append(label_text);

            let input_box = document.createElement("input");
            input_box.setAttribute("type", obj[i]["type"]);
            input_box.setAttribute("name", obj[i]["name"]);
            input_box.setAttribute("id", obj[i]["id"]);
            input_box.setAttribute("placeholder", obj[i]["placeholder"]);
            input_box.setAttribute("required", "");
            form.append(input_box);

        }

        let next = document.createElement("button");
        next.setAttribute("type", "submit");
        next.setAttribute("class", "bottom_button");
        next.setAttribute("id", "button_1")
        // next.setAttribute("onclick", "login()")
        next.innerText = ("Login");
        form.append(next);

        let gif = document.createElement("img");
        gif.setAttribute("src", "../assets/img/Online-Bank-Account-Zil.gif");
        gif.setAttribute("alt", "give and back");
        right_container.append(gif);

        let bottom_button = document.createElement("div");
        bottom_button.setAttribute("class", "btm_btn");
        content_of_log_in.append(bottom_button);

        //ridht side main divider end


        // Function is started............

        // function login() 


        //     let fullname = document.getElementById("fullname").value
        //     let email = document.getElementById("email").value
        //     let password = document.getElementById("password").value


        //     const attach = JSON.parse(localStorage.getItem("array"))

        //     let check;

        //     attach.forEach(element => {

        //         if (element["fname"] == fullname && element["email"] == email && element["new_pass"] == password) {

        //             return check = 1
        //             alert("logged");
        //         }

        //         else {
        //             console.log(element);
        //             console.log(fullname, email, password);

        //             return check = 0
        //             alert("invalid");
        //         }

        //     });

        //     if (check == 1) {
        //         let first_name;

        //         first_name = fullname;
        //         console.log(first_name);


        //         localStorage.setItem("first_name", first_name);

        //         window.location.href = "account_detail.html"

        //     }


        // }


        let button_click = document.getElementById("button_1")

        button_click.addEventListener("click",

            function (e) {

                e.preventDefault()

                let fullname = document.getElementById("fullname").value.trim()
                let email = document.getElementById("email").value.trim()
                let password = document.getElementById("password").value.trim()


                const attach = JSON.parse(localStorage.getItem("array"))

                let check;
                // 
                attach.forEach(element => {

                    if (element["fname"] === fullname && element["email"] === email && element["new_pass"] === password) {

                        return check = 1;

                    }

                });

                if (check == 1) {

                    let first_name = fullname;

                    localStorage.setItem("first_name", first_name); //login user details

                    localStorage.setItem("email", email); //login user details


                    alert("logged");
                    window.location.href = "home.html"

                }
                else {
                    alert("invalid");
                }


            })
    </script>


</body>

</html>